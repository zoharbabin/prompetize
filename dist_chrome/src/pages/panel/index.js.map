{"version":3,"file":"index.js","sources":["../../../../src/pages/panel/Panel.tsx","../../../../src/pages/panel/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Browser from 'webextension-polyfill';\n\ninterface LogEntry {\n  timestamp: number;\n  type: 'log' | 'error' | 'info';\n  message: string;\n  data?: any;\n}\n\nconst Panel: React.FC = () => {\n  const [logs, setLogs] = useState<LogEntry[]>([]);\n  const [filter, setFilter] = useState<'all' | 'log' | 'error' | 'info'>('all');\n  const [search, setSearch] = useState('');\n\n  useEffect(() => {\n    // Connect to the background script\n    const port = Browser.runtime.connect({ name: 'panel' });\n\n    // Listen for messages\n    port.onMessage.addListener((message: LogEntry) => {\n      setLogs(prev => [...prev, { ...message, timestamp: Date.now() }]);\n    });\n\n    return () => {\n      port.disconnect();\n    };\n  }, []);\n\n  // Filter and search logs\n  const filteredLogs = logs.filter(log => {\n    const matchesFilter = filter === 'all' || log.type === filter;\n    const matchesSearch = search === '' || \n      JSON.stringify(log).toLowerCase().includes(search.toLowerCase());\n    return matchesFilter && matchesSearch;\n  });\n\n  const clearLogs = () => {\n    setLogs([]);\n  };\n\n  return (\n    <div className=\"h-screen bg-white dark:bg-gray-900 text-gray-900 dark:text-white\">\n      {/* Toolbar */}\n      <div className=\"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-4\">\n            <select\n              value={filter}\n              onChange={(e) => setFilter(e.target.value as typeof filter)}\n              className=\"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md\"\n            >\n              <option value=\"all\">All</option>\n              <option value=\"log\">Logs</option>\n              <option value=\"error\">Errors</option>\n              <option value=\"info\">Info</option>\n            </select>\n            <input\n              type=\"text\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              placeholder=\"Search logs...\"\n              className=\"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md flex-1\"\n            />\n          </div>\n          <button\n            onClick={clearLogs}\n            className=\"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors\"\n          >\n            Clear\n          </button>\n        </div>\n      </div>\n\n      {/* Logs */}\n      <div className=\"p-4 space-y-2\">\n        {filteredLogs.length === 0 ? (\n          <div className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\n            No logs to display\n          </div>\n        ) : (\n          filteredLogs.map((log, index) => (\n            <div\n              key={log.timestamp + index}\n              className={`p-3 rounded-md ${\n                log.type === 'error'\n                  ? 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200'\n                  : log.type === 'info'\n                  ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200'\n                  : 'bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200'\n              }`}\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-xs opacity-75\">\n                  {new Date(log.timestamp).toLocaleTimeString()}\n                </span>\n                <span className=\"text-xs font-medium uppercase\">\n                  {log.type}\n                </span>\n              </div>\n              <div className=\"mt-1\">\n                <div className=\"font-medium\">{log.message}</div>\n                {log.data && (\n                  <pre className=\"mt-2 text-sm overflow-x-auto\">\n                    {JSON.stringify(log.data, null, 2)}\n                  </pre>\n                )}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Panel;","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport '@pages/panel/index.css';\nimport '@assets/styles/tailwind.css';\nimport Panel from '@pages/panel/Panel';\n\nfunction init() {\n  const rootContainer = document.querySelector(\"#__root\");\n  if (!rootContainer) throw new Error(\"Can't find Panel root element\");\n  \n  const root = createRoot(rootContainer);\n  root.render(\n    <React.StrictMode>\n      <Panel />\n    </React.StrictMode>\n  );\n}\n\ninit();"],"names":["Panel","logs","setLogs","useState","filter","setFilter","search","setSearch","useEffect","port","Browser","message","prev","filteredLogs","log","matchesFilter","matchesSearch","clearLogs","jsxs","jsx","e","index","init","rootContainer","createRoot","React"],"mappings":"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"}