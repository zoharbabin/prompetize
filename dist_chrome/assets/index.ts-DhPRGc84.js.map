{"version":3,"file":"index.ts-DhPRGc84.js","sources":["../../src/pages/background/index.ts"],"sourcesContent":["import Browser from 'webextension-polyfill';\nimport type { Runtime, Tabs } from 'webextension-polyfill';\n\ninterface ExtensionMessage {\n  type: 'INITIALIZE' | 'GET_STORAGE';\n  key?: string;\n}\n\n// Initialize extension when installed or updated\nBrowser.runtime.onInstalled.addListener((details: Runtime.OnInstalledDetailsType) => {\n  console.log('Extension installed/updated:', details.reason);\n});\n\n// Handle messages from content scripts or popup\nBrowser.runtime.onMessage.addListener(async (\n  message: ExtensionMessage,\n  sender: Runtime.MessageSender\n) => {\n  console.log('Received message:', message, 'from:', sender);\n  \n  switch (message.type) {\n    case 'INITIALIZE':\n      // Handle initialization\n      return { success: true };\n      \n    case 'GET_STORAGE':\n      // Handle storage retrieval\n      try {\n        const data = await Browser.storage.local.get(message.key);\n        return { success: true, data };\n      } catch (error: unknown) {\n        console.error('Storage error:', error);\n        return { \n          success: false, \n          error: error instanceof Error ? error.message : 'Unknown error' \n        };\n      }\n      \n    default:\n      console.warn('Unknown message type:', message.type);\n      return { success: false, error: 'Unknown message type' };\n  }\n});\n\n// Listen for tab updates\nBrowser.tabs.onUpdated.addListener((\n  tabId: number,\n  changeInfo: Tabs.OnUpdatedChangeInfoType,\n  tab: Tabs.Tab\n) => {\n  if (changeInfo.status === 'complete' && tab.url) {\n    console.log('Tab updated:', tab.url);\n  }\n});\n\nconsole.log('Background script loaded');"],"names":["Browser","details","message","sender","error","tabId","changeInfo","tab"],"mappings":"mDASAA,EAAQ,QAAQ,YAAY,YAAaC,GAA4C,CAC3E,QAAA,IAAI,+BAAgCA,EAAQ,MAAM,CAC5D,CAAC,EAGDD,EAAQ,QAAQ,UAAU,YAAY,MACpCE,EACAC,IACG,CAGH,OAFA,QAAQ,IAAI,oBAAqBD,EAAS,QAASC,CAAM,EAEjDD,EAAQ,KAAM,CACpB,IAAK,aAEI,MAAA,CAAE,QAAS,EAAK,EAEzB,IAAK,cAEC,GAAA,CAEK,MAAA,CAAE,QAAS,GAAM,KADX,MAAMF,EAAQ,QAAQ,MAAM,IAAIE,EAAQ,GAAG,CAC3B,QACtBE,EAAgB,CACf,eAAA,MAAM,iBAAkBA,CAAK,EAC9B,CACL,QAAS,GACT,MAAOA,aAAiB,MAAQA,EAAM,QAAU,eAClD,CAAA,CAGJ,QACU,eAAA,KAAK,wBAAyBF,EAAQ,IAAI,EAC3C,CAAE,QAAS,GAAO,MAAO,sBAAuB,CAAA,CAE7D,CAAC,EAGDF,EAAQ,KAAK,UAAU,YAAY,CACjCK,EACAC,EACAC,IACG,CACCD,EAAW,SAAW,YAAcC,EAAI,KAClC,QAAA,IAAI,eAAgBA,EAAI,GAAG,CAEvC,CAAC,EAED,QAAQ,IAAI,0BAA0B"}